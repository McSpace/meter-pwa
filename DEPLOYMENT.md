# Deployment Guide

## Railway Deployment

This app is configured to deploy on Railway with Docker.

### Prerequisites

1. Push your code to GitHub
2. Connect your GitHub repo to Railway
3. Railway will automatically detect the Dockerfile and build

### Environment

No environment variables needed - this is a static PWA.

### Build Process

The Dockerfile will:
1. Install dependencies
2. Copy source code (including pre-generated PNG icons from public/ folder)
3. Build the production bundle with Vite
4. Serve with Nginx

**Note**: PNG icons are pre-generated and committed to the repo. If you need to regenerate them, open `public/generate-pwa-icons.html` in your browser and download the icons.

### Verification

After deployment, verify PWA installation:

#### On iPhone:
1. Open `https://your-app.up.railway.app` in Safari
2. Tap Share button → "Add to Home Screen"
3. The app should appear with the teal icon
4. Launch from home screen (full-screen mode)

#### On Android:
1. Open in Chrome
2. Tap the "Install" prompt or menu → "Install app"
3. Launch from home screen

### PWA Requirements Checklist

✅ HTTPS (Railway provides this automatically)
✅ Web App Manifest (`manifest.webmanifest`)
✅ Service Worker (auto-generated by vite-plugin-pwa)
✅ PNG Icons (192x192, 512x512 for Android)
✅ Apple Touch Icons (180x180, 152x152, 120x120 for iOS)
✅ iOS Meta Tags (`apple-mobile-web-app-capable`)
✅ Theme colors and viewport settings

### Troubleshooting

**PWA doesn't install on iPhone:**
- Make sure you're using Safari (not Chrome)
- Check that HTTPS is working
- Clear Safari cache and try again
- Verify icons are loading (check Network tab)

**Service Worker not updating:**
- The app uses `registerType: 'autoUpdate'`
- Hard refresh or clear cache to force update
- Check Console for service worker logs

**Icons not showing:**
- Run `npm run generate-icons` before building
- Check that PNG files exist in `public/` folder
- Verify manifest.webmanifest has correct icon paths
